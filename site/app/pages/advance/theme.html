<!-- 
  import {
    PageContainer,
    CodeBlock,
    NoteBlock
  } from '../../components'
-->
<PageContainer centered _t:title="主题">
  <section class="page-container-section">
    <h2 class="md-headline">主题</h2>
    <p><_t>
      Jinge Material 组件库<ui-sref to="about">移植自 Vue Material</ui-sref>，但在多主题的支持上，进行了彻底地重构。主要包括两个方面：
    </_t></p>
    <ul>
      <li><_t>完全依赖 CSS 变量（css3 variable）来实现颜色的指定和色板的切换。</_t></li>
      <li><_t>完全遵循 Material Design 最新的设计规范中关于色板的规定，包括暗色主题。</_t></li>
    </ul>
  </section>
  <section class="page-container-section">
    <h2 class="md-title"><_t>预置主题</_t></h2>
    <p><_t>
      Jinge Material 提供了 4 个预先构建好的主题，包括
    </_t></p>
    <p><_t>具体来讲，在 html 文件中，用如下的方式加载 script：</_t></p>
    <CodeBlock lang="html">
      &lt;script src=&quot;jinge-material/dist/js/jinge-material.min.js&quot;&gt;&lt;/script&gt;
      &lt;script src=&quot;jinge-material/dist/locales/zh_cn.min.js&quot;&gt;&lt;/script&gt;
      &lt;script src=&quot;jinge-material/dist/locales/en.min.js&quot;&gt;&lt;/script&gt;
    </CodeBlock>
    <p><_t>也可以一次性加载涵盖所有语言资源的包（Gzip 压缩和 CDN 加载后，加载全部语言资源也几乎不影响启动速度）：</_t></p>
    <CodeBlock lang="html">
      &lt;script src=&quot;jinge-material/dist/js/jinge-material-with-locales.min.js&quot;&gt;&lt;/script&gt;
    </CodeBlock>
    <p><_t>然后在业务 js 代码中，用如下的方式配置默认语言（或切换语言）：</_t></p>
    <CodeBlock lang="js">
      import {
        locales,
        setLocale
      } from 'jinge-material';
      
      setLocale(locales['zh_cn']);
    </CodeBlock>
    <p><_t>上述代码需要在打包工具中配置对 jinge-material 的引用指向 window.JingeMaterial 对象，比如 webpack.config.js 中配置 externals。</_t></p>
  </section>
  <section class="page-container-section">
    <h2 class="md-title"><_t>补充</_t></h2>
    <p><_t>通过 npm 或 yarn 包的方式使用 jinge-materail，但又一定要用 ajax 的方式按需加载语言资源，可以有不同的实现方式。其中一种方式是，以文本的形式 fetch 到语言资源的源码，然后通过 `new Function()` 的形式包裹并执行该源码，同时传递一个 `JingeMaterial` 对象给上下文：</_t></p>
    <CodeBlock lang="js">
      import {
        setLocale
      } from 'jinge-material/_config';
      
      const locales = {};
      const locale = 'zh_cn';
      fetch(`jinge-material/dist/locales/${locale}.js`).then(res => res.text()).then(code => {
        new Function('JingeMaterial', code)({
          locales
        });
        setLocale(locales[locale]);
      });
    </CodeBlock>
  </section>
</PageContainer>